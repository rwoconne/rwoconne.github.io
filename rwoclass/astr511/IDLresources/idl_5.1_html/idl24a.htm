<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML EXPERIMENTAL 970324//EN">
<HTML>
<STYLE><!--
H1         { font-family: Stone Sans, Helvetica, Arial, sans-serif }
H1.Chapter-Name    { font-size: 36pt }
H2         { font-family: Stone Sans, Helvetica, Arial, sans-serif }
H3         { font-family: Stone Sans, Helvetica, Arial, sans-serif }
H4         { font-family: Stone Sans, Helvetica, Arial, sans-serif }
H5         { font-family: Stone Sans, Helvetica, Arial, sans-serif ;
             margin-top: -5.0pt ; font-size: 12pt }
H6         { font-family: Stone Sans, Helvetica, Arial, sans-serif ;
             margin-top: -5.0pt ; font-size: 12pt }
P          { font-family: Minion, Times, serif }
P.api      { font-family: Courier ; font-weight: Bold }
P.Code     { font-family: Courier, serif ; font-size: 10pt}
P.Code-2   { font-family: Courier, serif ; font-size: 10pt}
P.Code-Result   { font-family: Courier, serif ; font-size: 10pt ;
                  font-weight: Bold}
P.ChapTOC  { font-family: Stone Sans, Helvetica, Arial, sans-serif }
P.Chapter-NameTOC   { font-family: Stone Sans, Helvetica, Arial, sans-serif ;
		      font-size: 20pt; font-weight: Bold }
P.Level2IX	{margin-left: 10pt }
LI.Code-Numbered     { font-family: Courier, serif ; font-size: 10pt}
LI.Code-Numbered-1   { font-family: Courier, serif ; font-size: 10pt}
--></STYLE>

<HEAD>
<META NAME="GENERATOR" CONTENT="Adobe FrameMaker 5.5/HTML Export Filter">

<TITLE> CDF_ATTPUT</TITLE></HEAD>
<BODY BGCOLOR="#ffffff">
<DIV>
<DIV><table width="100%" border=0 cellspacing=0 cellpadding=0> <TR>  <TD></TD>   <TD  bgcolor="#ffffff">     <IMG SRC = "idlmap.gif" USEMAP = "#idlmap.gif" BORDER = 0>   </TD> </TR></TABLE><MAP NAME = "idlmap.gif"><AREA SHAPE=RECT HREF="idl24b.htm" COORDS="290, 29, 344, 43"><AREA SHAPE=RECT HREF="idl.htm" COORDS="139, 29, 239, 46"><AREA SHAPE=RECT HREF="idl249.htm" COORDS="0, 29, 98, 46"><AREA SHAPE=RECT HREF="idl.htm" COORDS="68, 0, 275, 18"></MAP></DIV><HR></DIV>
<H1 CLASS="Routine-Name">
<A NAME="pgfId=997125">
 </A>
<A NAME="34381">
 </A>
CDF_ATTPUT</H1>
<P CLASS="Body">
<A NAME="pgfId=997129">
 </A>
The <A NAME="marker=997127">
 </A>
CDF_ATTPUT procedure writes an <A NAME="marker=997128">
 </A>
attribute entry to a Common Data Format file, or attaches an attribute to a CDF variable. If the specified entry already exists, it is overwritten.</P>
<DIV>
<H2 CLASS="Heading-1R">
<A NAME="pgfId=997130">
 </A>
Calling Sequence</H2>
<P CLASS="Body">
<A NAME="pgfId=997131">
 </A>
CDF_ATTPUT, <I CLASS="Italics">
Id, Attribute, EntryNum, Value</I>
</P>
</DIV>
<DIV>
<H2 CLASS="Heading-1R">
<A NAME="pgfId=997132">
 </A>
Arguments</H2>
<DIV>
<H3 CLASS="Argument">
<A NAME="pgfId=997133">
 </A>
Id</H3>
<P CLASS="Body">
<A NAME="pgfId=997134">
 </A>
The CDF ID, returned from a previous call to CDF_OPEN or CDF_CREATE.</P>
</DIV>
<DIV>
<H3 CLASS="Argument">
<A NAME="pgfId=997135">
 </A>
Attribute</H3>
<P CLASS="Body">
<A NAME="pgfId=997136">
 </A>
A string containing the name of the attribute <I CLASS="Italics">
or</I>
 the attribute number to be written.</P>
</DIV>
<DIV>
<H3 CLASS="Argument">
<A NAME="pgfId=997137">
 </A>
EntryNum</H3>
<P CLASS="Body">
<A NAME="pgfId=999732">
 </A>
The entry number. If the attribute is variable in scope, this is either the name or number of the variable the attribute is to be associated with. If the attribute is global in scope, this is the actual gEntry. It is the user's responsibility to keep track of valid gEntry numbers. Normally gEntry numbers will begin with 0 or 1 and will increase up to MAXGENTRY (as reported in the GET_ATTR_INFO structure returned by <A HREF="idl24d.htm#97922" CLASS="XRef">
CDF_CONTROL</A>
), but this is not required.</P>
</DIV>
<DIV>
<H3 CLASS="Argument">
<A NAME="pgfId=999733">
 </A>
Value</H3>
<P CLASS="Body">
<A NAME="pgfId=997140">
 </A>
The value(s) to be written.</P>
</DIV>
</DIV>
<DIV>
<H2 CLASS="Heading-1R">
<A NAME="pgfId=997141">
 </A>
Keywords</H2>
<DIV>
<H3 CLASS="Argument">
<A NAME="pgfId=997143">
 </A>
<A NAME="marker=997142">
 </A>
ZVARIABLE</H3>
<P CLASS="Body">
<A NAME="pgfId=997144">
 </A>
If <I CLASS="Italics">
EntryNum</I>
 is a variable ID (as opposed to a variable name) and the variable is a zVariable, set this flag to indicate that the variable ID is a zVariable ID. The default is to assume that <I CLASS="Italics">
EntryNum</I>
 is an rVariable ID. Note: the attribute must have a scope of VARIABLE_SCOPE.</P>
</DIV>
</DIV>
<DIV>
<H2 CLASS="Heading-1R">
<A NAME="pgfId=997145">
 </A>
Example</H2>
<P CLASS="Code">
<A NAME="pgfId=997146">
 </A>
Id= CDF_CREATE('foo', /SUN_ENCODING, /HOST_DECODING, $</P>
<P CLASS="Code">
<A NAME="pgfId=998935">
 </A>
&nbsp;&nbsp;&nbsp;&nbsp;/ROW_MAJOR)	<EM CLASS="Comment">;
no dimensions.</EM>
</P>
<P CLASS="Code">
<A NAME="pgfId=997147">
 </A>
dummy= CDF_VARCREATE(id, 'Var1', /CDF_INT4, /REC_VARY)</P>
<P CLASS="Code">
<A NAME="pgfId=997148">
 </A>
v2= CDF_VARCREATE(id, 'Var2', /CDF_FLOAT, /REC_NOVARY)</P>
<P CLASS="Code">
<A NAME="pgfId=997149">
 </A>
dummy= CDF_ATTCREATE(id, 'Title', /VARIABLE)</P>
<P CLASS="Code">
<A NAME="pgfId=999577">
 </A>
global_dummy = CDF_ATTCREATE(id,'Date',/GLOBAL)</P>
<P CLASS="Code">
<A NAME="pgfId=997150">
 </A>
dummy= CDF_ATTCREATE(id, 'Att2', /VARIABLE)</P>
<P CLASS="Code">
<A NAME="pgfId=997151">
 </A>
CDF_ATTPUT, id, 'Title', 'Var1', 'Temperature at surface'</P>
<P CLASS="Code">
<A NAME="pgfId=997152">
 </A>
CDF_ATTPUT, id, 'Title', v2, 'Time of recording'</P>
<P CLASS="Code">
<A NAME="pgfId=999578">
 </A>
CDF_ATTPUT, id, 'Date',1,'July 4, 1996'</P>
<P CLASS="Code">
<A NAME="pgfId=997153">
 </A>
CDF_ATTPUT, id, 'Att2', 'Var2', FINDGEN(10)</P>
<P CLASS="Body">
<A NAME="pgfId=998940">
 </A>
Rename the &quot;Att2&quot; attribute to &quot;Attribute2&quot;:</P>
<P CLASS="Code">
<A NAME="pgfId=998947">
 </A>
CDF_ATTRENAME, Id, 'Att2', 'Attribute2'</P>
<P CLASS="Body">
<A NAME="pgfId=998949">
 </A>
Verify the attribute number (zero-based) of Attribute2</P>
<P CLASS="Code">
<A NAME="pgfId=998951">
 </A>
PRINT, CDF_ATTNUM(id, 'Attribute2')</P>
<P CLASS="Body">
<A NAME="pgfId=998953">
 </A>
IDL prints:</P>
<P CLASS="Code-Result">
<A NAME="pgfId=998954">
 </A>
1</P>
<P CLASS="Code">
<A NAME="pgfId=1001208">
 </A>
CDF_CLOSE, id	<EM CLASS="Comment">;
Close the CDF file. This file is used in the example for CDF_ATTGET.</EM>
</P>
<P CLASS="Code">
<A NAME="pgfId=1000491">
 </A>
&nbsp;</P>
<P CLASS="Body">
<A NAME="pgfId=1000494">
 </A>
The following example uses the Global attribute &quot;MODS&quot; to keep track of the modification history of a CDF file named <CODE CLASS="Code">
mods.cdf</CODE>
.</P>
<P CLASS="Code">
<A NAME="pgfId=1000496">
 </A>
id = CDF_CREATE('mods.cdf', /CLOBBER)</P>
<P CLASS="Code">
<A NAME="pgfId=1000498">
 </A>
cid = CDF_ATTCREATE(id, 'MODS', /GLOBAL_SCOPE)</P>
<P CLASS="Code">
<A NAME="pgfId=1000499">
 </A>
CDF_ATTPUT, id, cid, 0, 'Original Version'</P>
<P CLASS="Code">
<A NAME="pgfId=1000501">
 </A>
CDF_CLOSE, id</P>
<P CLASS="Body">
<A NAME="pgfId=1000502">
 </A>
Next, reopen the CDF file and make modifications:</P>
<P CLASS="Code">
<A NAME="pgfId=1000504">
 </A>
id = CDF_OPEN('mods.cdf')</P>
<P CLASS="Code">
<A NAME="pgfId=1000506">
 </A>
CDF_CONTROL, id, ATTRIBUTE='MODS', GET_ATTR_INFO=ginfo<BR>
<EM CLASS="Comment">;
Use CDF_CONTROL to get the MAXGENTRY used.</EM>
</P>
<P CLASS="Code">
<A NAME="pgfId=1000508">
 </A>
CDF_ATTPUT, id, cid, ginfo.maxgentry+1,'Second Version'<BR>
<EM CLASS="Comment">;
Insert the new gEntry at MAXGENTRY+1.</EM>
</P>
<P CLASS="Code">
<A NAME="pgfId=1000510">
 </A>
CDF_CLOSE, id</P>
<P CLASS="Body">
<A NAME="pgfId=1000512">
 </A>
Reopen the CDF file again and make more modifications:</P>
<P CLASS="Code">
<A NAME="pgfId=1000513">
 </A>
id = CDF_OPEN('mods.cdf')</P>
<P CLASS="Code">
<A NAME="pgfId=1000514">
 </A>
CDF_CONTROL, id, ATTRIBUTE='MODS', GET_ATTR_INFO=ginfo</P>
<P CLASS="Code">
<A NAME="pgfId=1000515">
 </A>
CDF_ATTPUT, id, cid, ginfo.maxgentry+1, 'Third Version'</P>
<P CLASS="Code">
<A NAME="pgfId=1000516">
 </A>
CDF_CLOSE, id</P>
<P CLASS="Body">
<A NAME="pgfId=1002479">
 </A>
Reopen the CDF file again and make a modification in the MAXGENTRY + 2 spot (skipping an entry number).</P>
<P CLASS="Code">
<A NAME="pgfId=1002480">
 </A>
id = CDF_OPEN('mods.cdf')</P>
<P CLASS="Code">
<A NAME="pgfId=1002506">
 </A>
CDF_CONTROL, id, ATTRIBUTE='MODS', GET_ATTR_INFO=ginfo</P>
<P CLASS="Code">
<A NAME="pgfId=1002487">
 </A>
CDF_ATTPUT, id, cid, ginfo.maxgentry+2, 'Fourth Version'</P>
<P CLASS="Body">
<A NAME="pgfId=1000520">
 </A>
Now, Examine the CDF file to review its modification history. Since the gENTRY numbers have a gap in them, we can check each attribute with the CDF_ATTEXISTS function. This is a good idea if you do not know for certain that the attribute entries are serially numbered.</P>
<P CLASS="Code">
<A NAME="pgfId=1002514">
 </A>
CDF_CONTROL, id, ATTRIBUTE='MODS', GET_ATTR_INFO=ginfo</P>
<P CLASS="Code">
<A NAME="pgfId=1002579">
 </A>
&nbsp;&nbsp;FOR I=0, ginfo.maxgentry DO BEGIN</P>
<P CLASS="Code">
<A NAME="pgfId=1002580">
 </A>
&nbsp;&nbsp;&nbsp;&nbsp;IF CDF_ATTEXISTS(id, cid, I) THEN BEGIN</P>
<P CLASS="Code">
<A NAME="pgfId=1002581">
 </A>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDF_ATTGET, id, cid, I, gatt</P>
<P CLASS="Code">
<A NAME="pgfId=1002518">
 </A>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PRINT, I, gatt, FORMAT='(&quot;Attribute: MODS (gENTRY #&quot;,i1,&quot;) = &quot;,A)'</P>
<P CLASS="Code">
<A NAME="pgfId=1002629">
 </A>
&nbsp;&nbsp;&nbsp;&nbsp;ENDIF ELSE BEGIN</P>
<P CLASS="Code">
<A NAME="pgfId=1002520">
 </A>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PRINT, I, FORMAT='(&quot;Attribute: MODS (gENTRY #&quot;,i1,&quot;) $</P>
<P CLASS="Code">
<A NAME="pgfId=1002648">
 </A>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Does not exist&quot;)'</P>
<P CLASS="Code">
<A NAME="pgfId=1002522">
 </A>
&nbsp;&nbsp;&nbsp;&nbsp;ENDELSE</P>
<P CLASS="Code">
<A NAME="pgfId=1002523">
 </A>
&nbsp;&nbsp;ENDFOR</P>
<P CLASS="Code">
<A NAME="pgfId=1002524">
 </A>
CDF_CLOSE, id</P>
<P CLASS="Body">
<A NAME="pgfId=1000530">
 </A>
IDL prints:</P>
<P CLASS="Code-Result">
<A NAME="pgfId=1000531">
 </A>
Attribute: MODS (gENTRY #0) = Original Version</P>
<P CLASS="Code-Result">
<A NAME="pgfId=1002678">
 </A>
Attribute: MODS (gENTRY #1) = Second Version</P>
<P CLASS="Code-Result">
<A NAME="pgfId=1002688">
 </A>
Attribute: MODS (gENTRY #2) = Third Version</P>
<P CLASS="Code-Result">
<A NAME="pgfId=1002695">
 </A>
Attribute: MODS (gENTRY #3) Does not exist</P>
<P CLASS="Code-Result">
<A NAME="pgfId=1002689">
 </A>
Attribute: MODS (gENTRY #4) = Fourth Version</P>
</DIV>
</BODY>
</HTML>
